"use strict";var WholePageTemplateDesignSystem;(function(n){var t;(function(t){var i;(function(t){var u="ComponentsCarousel",c=["Unknown","Normal","FullWidth"],b={get:function(t){if(!n.Common.ValidationUtils.isHTMLElement(t))throw new n.Common.ErrorUtils.InvalidElementError;return t.hasAttribute("data-bleed-inline")},set:function(t,i){if(!n.Common.ValidationUtils.isHTMLElement(t))throw new n.Common.ErrorUtils.InvalidElementError;if(n.Common.ValidationUtils.isNullOrUndefined(i)||!i){t.removeAttribute("data-bleed-inline");return}t.setAttribute("data-bleed-inline","")}},k={get:function(t){var r=i(t);if(n.Common.ValidationUtils.isNullOrUndefined(r))throw new n.Common.ErrorUtils.InvalidElementError;return r.id},set:function(t,r){var u=i(t);if(n.Common.ValidationUtils.isNullOrUndefined(u))throw new n.Common.ErrorUtils.InvalidElementError;u.id=r!==null&&r!==void 0?r:""}},d={get:function(t){var i,u=r(t);if(n.Common.ValidationUtils.isNullOrUndefined(u))throw new n.Common.ErrorUtils.InvalidElementError;return(i=u.ariaLabel)!==null&&i!==void 0?i:""},set:function(t,i){var u=r(t);if(n.Common.ValidationUtils.isNullOrUndefined(u))throw new n.Common.ErrorUtils.InvalidElementError;u.ariaLabel=i!==null&&i!==void 0?i:""}},g={get:function(t){var f=i(t),u,r;if(n.Common.ValidationUtils.isNullOrUndefined(f))throw new n.Common.ErrorUtils.InvalidElementError;return(u=f.getAttribute("data-scroll-percent"),n.Common.ValidationUtils.isNullOrUndefined(u))?1:(r=window.parseFloat(u),window.isNaN(r)||!window.isFinite(r)||r<=0)?1:r},set:function(t,r){var u=i(t),f;if(n.Common.ValidationUtils.isNullOrUndefined(u))throw new n.Common.ErrorUtils.InvalidElementError;f=n.Common.ValidationUtils.isNullOrUndefined(r)||window.isNaN(r)||!window.isFinite(r)||r<=0?1:r;u.setAttribute("data-scroll-percent",f.toString())}},nt={get:function(t){var f=i(t),r,u;if(n.Common.ValidationUtils.isNullOrUndefined(f))throw new n.Common.ErrorUtils.InvalidElementError;return(r=f.getAttribute("data-variant"),n.Common.ValidationUtils.isNullOrUndefined(r))?"Unknown":(u=n.Common.ArrayUtils.find(c,function(n){return n===r}),n.Common.ValidationUtils.isNullOrUndefined(u))?"Unknown":u},set:function(t,r){var f=i(t),u,e;if(n.Common.ValidationUtils.isNullOrUndefined(f))throw new n.Common.ErrorUtils.InvalidElementError;u=n.Common.ArrayUtils.find(c,function(n){return n===r});e=n.Common.ValidationUtils.isNullOrUndefined(u)?"Unknown":u;f.setAttribute("data-variant",e)}},l,a,f;t.props={bleedInline:b,className:n.Common.PropUtils.props.className,hidden:n.Common.PropUtils.props.hidden,id:k,label:d,scrollPercent:g,variant:nt};l=function(t){var i=r(t);if(n.Common.ValidationUtils.isNullOrUndefined(i))throw new n.Common.ErrorUtils.InvalidElementError;i.focus()};t.actions={focus:l};a=function(t){var u=i(t),r;return n.Common.ValidationUtils.isNullOrUndefined(u)?null:(r=e(u),n.Common.ValidationUtils.isNullOrUndefined(r))?null:r};t.state={getScrollProgress:a};t.WptdsCarouselNavigateEventName="wptdscarouselnavigateevent";f=function(n){return new CustomEvent(t.WptdsCarouselNavigateEventName,{detail:{direction:n}})};t.WptdsCarouselScrollEventName="wptdscarouselscrollevent";var tt=function(n){return new CustomEvent(t.WptdsCarouselScrollEventName,{detail:n})},i=function(t){return n.Common.ValidationUtils.isNullOrUndefined(t)||!n.Common.ValidationUtils.isHTMLElement(t)?null:t.hasAttribute("data-wptds-carousel")?t:null},r=function(t){var u=i(t),r;return n.Common.ValidationUtils.isNullOrUndefined(u)?null:(r=u.querySelector("[data-wptds-carousel-scroll-container]"),n.Common.ValidationUtils.isNullOrUndefined(r)||!n.Common.ValidationUtils.isHTMLElement(r))?null:r},v=function(t){var u=i(t),r;return n.Common.ValidationUtils.isNullOrUndefined(u)?null:(r=u.querySelector('[data-wptds-carousel-control][data-direction="start"]'),n.Common.ValidationUtils.isNullOrUndefined(r)||!n.Common.ValidationUtils.isHTMLButtonElement(r))?null:r},y=function(t){var u=i(t),r;return n.Common.ValidationUtils.isNullOrUndefined(u)?null:(r=u.querySelector('[data-wptds-carousel-control][data-direction="end"]'),n.Common.ValidationUtils.isNullOrUndefined(r)||!n.Common.ValidationUtils.isHTMLButtonElement(r))?null:r},p=function(t,i){var u=r(t);if(!n.Common.ValidationUtils.isNullOrUndefined(u)){var f=u.clientWidth,e=n.Components.Carousel.props.scrollPercent.get(t),o=f*e,s=n.Common.IntlUtils.isRtl(u)?-1:1,h=i==="start"?-1:1;u.scrollBy({left:o*s*h})}},e=function(t){var u=i(t),f=v(t),e=y(t),o,r;return n.Common.ValidationUtils.isNullOrUndefined(u)||n.Common.ValidationUtils.isNullOrUndefined(f)||n.Common.ValidationUtils.isNullOrUndefined(e)?null:(o=n.Components.Carousel.props.variant.get(u),r=it(u,o),n.Common.ValidationUtils.isNullOrUndefined(r)||n.Common.ValidationUtils.isNullOrUndefined(r.value))?null:(f.ariaDisabled=r.flags.isAtStart.toString(),e.ariaDisabled=r.flags.isAtEnd.toString(),r.value)},it=function(t,i){var u=r(t),e,a,v,y;if(n.Common.ValidationUtils.isNullOrUndefined(u))return{flags:{isAtStart:!0,isAtEnd:!1},value:o(t,i)};var f=Math.abs(u.scrollLeft),h=u.clientWidth+1,c=Math.floor(f)===0,l=Math.ceil(h+f)>=u.scrollWidth;if(c&&l)return{flags:{isAtStart:!0,isAtEnd:!0},value:o(t,i)};if(c)return{flags:{isAtStart:!0,isAtEnd:!1},value:o(t,i)};if(l)return{flags:{isAtStart:!1,isAtEnd:!0},value:rt(t,i)};e={isAtStart:!1,isAtEnd:!1};switch(i){case"Normal":return a=Math.ceil(f)/(u.scrollWidth-h),{flags:e,value:{type:"percent",percentScrolled:a}};case"FullWidth":return v=ut(t),y=s(t),{flags:e,value:{type:"pages",currentPageIndex:v,totalPages:y}};default:return null}},o=function(n,t){switch(t){case"Normal":return{type:"percent",percentScrolled:0};case"FullWidth":return{type:"pages",currentPageIndex:0,totalPages:s(n)};default:return null}},rt=function(n,t){switch(t){case"Normal":return{type:"percent",percentScrolled:1};case"FullWidth":var i=s(n);return{type:"pages",currentPageIndex:Math.max(0,i-1),totalPages:i};default:return null}},ut=function(t){var f=r(t),i,e,h,o;if(n.Common.ValidationUtils.isNullOrUndefined(f))return 0;var c=f.getBoundingClientRect(),s=f.querySelectorAll("[data-wptds-carousel-item]"),u={index:window.NaN,distance:Number.MAX_VALUE};for(i=0;i<s.length;i++)(e=s[i],n.Common.ValidationUtils.isNullOrUndefined(e))||(h=e.getBoundingClientRect(),o=Math.abs(h.x-c.x),o<u.distance&&(u={index:i,distance:o}));return window.isNaN(u.index)?0:u.index},s=function(t){var i=r(t),u;return n.Common.ValidationUtils.isNullOrUndefined(i)?0:(u=i.querySelectorAll("[data-wptds-carousel-item]"),u.length)},ft={get:function(t){var r,u=i(t);if(n.Common.ValidationUtils.isNullOrUndefined(u))throw new n.Common.ErrorUtils.InvalidElementError;return(r=u.getAttribute("data-appNS"))!==null&&r!==void 0?r:""},set:function(){return}},et={get:function(t){var r,u=i(t);if(n.Common.ValidationUtils.isNullOrUndefined(u))throw new n.Common.ErrorUtils.InvalidElementError;return(r=u.getAttribute("data-kValue"))!==null&&r!==void 0?r:""},set:function(){return}},h=function(t){var r=i(t);return n.Common.ValidationUtils.isNullOrUndefined(r)?{appNS:"",kValue:""}:{appNS:ft.get(r),kValue:et.get(r)}},w=function(n){return{direction:n.detail.direction}},ot=function(n){switch(n.detail.type){case"pages":return{type:n.detail.type,currentPageIndex:n.detail.currentPageIndex.toString(),totalPages:n.detail.totalPages.toString()};case"percent":return{type:n.detail.type,percentScrolled:n.detail.percentScrolled.toString()};default:return{}}},st=function(){var t=document.querySelectorAll("[data-wptds-carousel]");t.forEach(function(t){var o=i(t),l=r(t),s=v(t),c=y(t);n.Common.ValidationUtils.isNullOrUndefined(o)||n.Common.ValidationUtils.isNullOrUndefined(l)||n.Common.ValidationUtils.isNullOrUndefined(s)||n.Common.ValidationUtils.isNullOrUndefined(c)||(s.addEventListener("click",function(i){if(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),s.ariaDisabled!=="true"){p(o,"start");var r=f("start");o.dispatchEvent(r);n.Common.LoggingUtils.logInteraction("Click","Navigate",w(r),u,h(t))}}),c.addEventListener("click",function(i){if(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),c.ariaDisabled!=="true"){p(o,"end");var r=f("end");o.dispatchEvent(r);n.Common.LoggingUtils.logInteraction("Click","Navigate",w(r),u,h(t))}}),l.addEventListener("scroll",function(i){var r,f;(i.preventDefault(),i.stopPropagation(),i.stopImmediatePropagation(),r=e(o),n.Common.ValidationUtils.isNullOrUndefined(r))||(f=tt(r),o.dispatchEvent(f),n.Common.LoggingUtils.logInteraction("Click","Scroll",ot(f),u,h(t)))}),e(o))})};st()})(i=t.Carousel||(t.Carousel={}))})(t=n.Components||(n.Components={}))})(WholePageTemplateDesignSystem||(WholePageTemplateDesignSystem={}))